# EDPC: M

高度なDPという感じが出てきた。

```
dp[i番目の子供にまで配った][配った個数j] := パターン数
```

配り方をすべて試すと `O(NK^2)` になって間に合わない。ここで遷移を書き出してみると、
```
// 0個配る場合
dp[i+1][j] := dp[i][j] + dp[i][j-1] + dp[i][j-2] + ... + dp[i][0]
// 1個配る場合
dp[i+1][j] :=            dp[i][j-1] + dp[i][j-2] + ... + dp[i][0]
// 2個配る場合
dp[i+1][j] :=                         dp[i][j-2] + ... + dp[i][0]
//以下略
```

つまり、1つ前の状態のある区間の和を足すことになる。子供毎に累積和を構築すると `O(NK)` にできる。
