# Educational DP Contest: W Intervals

[問題文](https://atcoder.jp/contests/dp/tasks/dp_w)

```
dp[i][j] = 位置iまでに終端がある区間を全て試した状態で位置jまで確定させたときの最大値
```

一旦上記のような式にしてみる。これは終端順に更新すれば良いのでテーブルを１次元にできる。

```
dp[i] = 位置iまで確定させたときの最大値
```
確定させた後も位置iの最大値が更新させるのが難しい。

```
dp[i + 1] = max({dp[0], ... dp[i]});
// ajはiを終端とする区間jのスコアで、kは区間jに含まれる。
dp[k] += aj;
```

これらは、
+ 区間に対するmax
+ 区間に対するadd
+ １カ所の更新

があれば実現できるので区間に対する操作をO(log N)で可能なデータ構造（遅延セグメント木等)を使って解ける。
