# [AtCoder Beginner Contest 149 F - Surrounded Nodes](https://atcoder.jp/contests/abc149/tasks/abc149_f)
## "2021-05-08 18-52-19"
N頂点の木が与えられる。等確率で白か黒に頂点を塗る。
黒に塗られるもしくは黒に塗られた頂点を子孫に持つような直接の子が複数あって、自身が白に塗られているような頂点の個数の期待値を計算せよ。
※白に塗られてかつ黒へのパスが複数ある、とか言い換えられる？

各頂点毎に条件を満たす確率を求めた後に全て足し合わせたら答えにならないのかな。
ある頂点に注目したとして、その子それぞれを根とした部分技に黒が含まれる確率が分かれば計算できる？

でもそれが複数ってどういう感じだろう。 `1.0-黒が１つもない確率-黒が１つしかない確率` かな。rerootingってやつ？
しかし有理数で出力する系の問題って何だか苦手意識がある。

## "2021-05-09 16-58-20"
木のサイズがnなら、全て白の確率は `1/2^(n-1)` で、
１つだけ黒の確率は子それぞれの部分木のサイズをxiとして `Σ(1/2^(n-1-xi))*(1-1/2^xi)` かな。

うーわ、全然サンプル合わない。xiってnで良いじゃないの。

あー、普通に実装を間違っていた。提出したもののサンプル以外ほぼWAなんだけど何なの。

## "2021-05-15 14-52-08"
間が空いてしまったけれど見直し。rerootingは慣れてないんだよなー。
うーん。よく分からないけどAC。
