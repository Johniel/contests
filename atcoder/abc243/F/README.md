# AtCoder Beginner Contest 243 F - Lottery
N個の賞品の中から１つを獲得できる(i番目の賞品を重みwi)クジをk回引いてちょうどM種類の賞品を獲得できる確率はいくらか？

+ n個からm個えらぶ方法はnCm。
+ n個それぞれの種類を決める方法は、(n-m)をxとしたら(x+m+1)C(m+1)。つまり(n+1)C(m+1)。※これはいつもの区切りをいれるやつ。

しかしこれではパターン数だけでwが考えられていないので確率になっていない。

---

後日解説を見る。ABCの３種類a個b個c個を区別しないn個の並べ替えは `n!/(a!b!c!)` 。なるほど、あったねこれ。

```
DP[どこまで見た][いま何個引いた][いま何種類]:=確率
DP[0][0][0]:=n!
DP[nth][cast][kind]+=DP[nth+1][cast+new][kind+!!new]/new!
```

これか？初期値が1で無いことが新鮮？（クジを引くときの動詞がcastだということを初めて知った）。

いやいや、またwを忘れている。wi/Σwの累乗を毎回掛け算すれば良いのだろうか。

```
DP[nth][cast][kind]+=DP[nth+1][cast+new][kind+!!new]/new!*(w[nth]/Σw)^new
```

AC。

`n!/(a!b!c!)` を忘れていたことが敗因だった。
