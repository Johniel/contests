# [AtCoder Beginner Contest 194 F - Digits Paradise in Hexadecimal](https://atcoder.jp/contests/abc194/tasks/abc194_f)
## "2021-05-01 18-35-47"
> 1以上N以下の整数のうち、先頭に 0のない十六進表記で書くとちょうどK種類の数字が現れるようなものはいくつあるでしょうか?10^9+7で割ったあまりを出力してください。

+ 1<=N<=(16^2)*1e5
+ 1<=k<=16

どうして解いてないんだっけこの問題。まずは頭から決めていくようなDPが思い浮かぶ。
`DP[X桁目まで決めた][Nより既に小さいか][どの文字を使ったかの2進数表現]:=パターン数`

状態数が1e5\*2^16\*2で遷移数が16通り?2^16が厳しくて無理そう。

一度Nより小さくなったら何種類使ったかは、使った文字数だけで良いのでは？つまり `DP[X桁目まで決めた][Nより既に小さいか][何種類の文字を使ったか]:=パターン数`

今度は状態数が1e5\*16\*2で遷移数が2通り。これが本当なら間に合いそう。

`DP[x][true][y] = DP[x-1][true][y] * c + DP[x-1][true][y-1]*(16-(y-1)) + DP[x-1][false][y-1] * x-1桁目の数-1` みたいない？
`DP[x][false][y]` は、Nを先頭から見ていって登場した文字を数えていけば計算出来るかな。
`DP[x-1][false][y-1] * x-1桁目の数-1` の部分は、それまでに登場した数字を使うかで分岐があるから違いそう。

実装が泥沼化してしまってツラい。落ち着くために貰うDPでなく配るDPで書き直そう。

あー、桁数が違う場合に考慮漏れが。桁数が異なる場合に0を使った扱いをして使った文字数を増やしていた。困った。
`DP[x][true][0]` からの遷移だけ特別扱いかな。

うまく書けない。もう状態数2倍にしよう。`DP[X桁目まで決めた][Nより既に小さいか][0を使えるか(1文字目でないか)][何種類の文字を使ったか]:=パターン数`
まだサンプルが合わない。何。

## "2021-05-05 19-33-55"
全然サンプルが合わない。一旦全て忘れて書き直そう。4次元が厳しい。これを解ける人々は高度場合分け人材なの？
leading 0があるものと扱った方が計算しやすいかな。

猛烈に大変だったけれど場合分けで何とかした。

`DP[X桁目まで決めた][何種類の文字を使ったか]:=パターン数` で解けるの・・・？凄くない。？
