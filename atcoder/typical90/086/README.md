# 競プロ典型 90 問 086 - Snuke's Favorite Arrays（★5）
2^60未満の要素を持つ数列。Ax|Ay|Az=wということは、wでビットが0になっているところはAxもAyもAzも0のはず。

残りは3つ組のうち1つが1であれば良い。

ではその条件を満たしているかをどうやって表現するのか。Nが小さいしビット数も60だから色々できそう。よく見るとQも50個だけだ。

どのビットが1かを考えるだけでも2^(60*12)もあるので無理、2^60ですら無理なのに。あるクエリの条件を満たすと別のクエリの条件も満たす場合もあるしどうしたものか。

クエリをビット毎に分割して考えて総積というのは？時折見る解法な気がする。

この場合は2^60未満という制約を1以下という制約に変えて解ければ良いはず。あとは定数(60)倍。

あー、これなら2^12か。出来そう。

AC。
